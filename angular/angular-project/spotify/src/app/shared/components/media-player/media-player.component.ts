import { MultimediaService } from './../../services/multimedia.service';
import { Component, OnInit } from '@angular/core';
import { TracksModel } from '@core/models/tracks.model';
import { Subscription } from 'rxjs';


@Component({
  selector: 'app-media-player',
  templateUrl: './media-player.component.html',
  styleUrls: ['./media-player.component.scss']
})
export class MediaPlayerComponent implements OnInit{
  mockCover: TracksModel = {
    cover: 'data:image/jpeg;base64,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',
    name:'High on Life',
    album: 'Martin Garrix',
    url: '#',
    _id: 1
  }

  listObservers$: Array<Subscription> = []

  constructor(private multimediaService: MultimediaService){

  }

  ngOnInit(): void {
    const observer1$: Subscription = this.multimediaService.callback.subscribe(
      (response: TracksModel) => {
        console.log('Recibiendo canciÃ³n.........' ,response);
        
      }
    )
    this.listObservers$ = [observer1$]
  }

  ngOnDestroy(): void{
    this.listObservers$.forEach(u => u.unsubscribe())
    console.log('ngOnDestroy executed!!');
    
  }
}
